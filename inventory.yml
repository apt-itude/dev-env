all:
  vars:
    git_config_global:
      # Common options
      alias.br: branch --list
      alias.co: checkout
      alias.pc: "!f() { git push --set-upstream $(git remote) $(git rev-parse --abbrev-ref HEAD); }; f"
      alias.peek: "!f() { git diff HEAD~${1:-1}; }; f"
      alias.pop: "!f() { git reset HEAD~${1:-1}; }; f"
      alias.st: status --ignore-submodules=dirty
      user.email: aptbosox@gmail.com
      user.name: Alex Thompson

      # Sublime setup
      core.editor: subl -n --wait
      diff.tool: sublimerge
      difftool.sublimerge.cmd: "subl -n --wait \"$LOCAL\" \"$REMOTE\" --command \"sublimerge_diff_views {\\\"left_read_only\\\": true, \\\"right_read_only\\\": true}\""
      merge.tool: sublimerge
      mergetool.sublimerge.cmd: subl -n --wait "$REMOTE" "$BASE" "$LOCAL" "$MERGED" --command "sublimerge_diff_views"
      mergetool.sublimerge.trustExitCode: False

    git_ignore_patterns_global:
      - "*.code-workspace"
      - ".vscode/"
      - "*.sublime-*"
      - ".python-version"
      - "__pycache__/"
      - "*.py[cod]"
      - "*$py.class"
      - ".cache/"
      - ".eggs/"
      - "*.egg-info/"
      - "dist/"
      - ".tox/"
      - ".coverage/"
      - "venv/"


    iterm2_profiles_repo: git@github.com:apt-itude/iterm2-profiles.git

    pyenv_installed_versions:
      - 3.7.0
      - 2.7.16

    pyenv_global_versions:
      - 3.7.0
      - 2.7.16

    rbenv_installed_versions:
      - 2.6.5

    rbenv_global_versions:
      - 2.6.5

    zplug_packages:
      - name: romkatv/powerlevel10k
        use: powerlevel10k.zsh-theme
        as: theme
      - name: apt-itude/p10k-config
      - name: zsh-users/zsh-completions
      - name: zdharma/fast-syntax-highlighting
      - name: peterhurford/up.zsh
      - name: plugins/docker
        from: oh-my-zsh
      - name: plugins/python
        from: oh-my-zsh

    zplug_variables:
      DEFAULT_USER: athompson

    zsh_aliases:
      ls: ls --color=auto
      ll: ls -lsF
      la: ls -lsaF
      grep: grep --color=auto
      cl: clear

    zsh_options:
      - APPEND_HISTORY
      - EXTENDED_HISTORY
      - HIST_IGNORE_ALL_DUPS
      - HIST_IGNORE_SPACE

    zsh_variables:
      HISTFILE: "${HOME}/.zhistory"
      HISTSIZE: 10000
      SAVEHIST: 10000

  children:
    macs:
      vars:
        homebrew_taps:
          - homebrew/cask-fonts

        homebrew_formulae:
          - coreutils
          - fff

        homebrew_casks:
          - font-inconsolatago-nerd-font-mono
          - google-backup-and-sync
          - google-chrome
          - rocket
          - safeincloud-password-manager
          - station
          - sublime-text

        # TODO figure out how to extend this for sub-group
        # zsh_aliases:
        #   show-files: defaults write com.apple.finder AppleShowAllFiles YES; killall Finder /System/Library/CoreServices/Finder.app
        #   hide-files: defaults write com.apple.finder AppleShowAllFiles NO; killall Finder /System/Library/CoreServices/Finder.app

      hosts:
        localhost:
          ansible_connection: local
